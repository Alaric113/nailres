<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Salon Demo</title>
  <style>
    :root {
      --brand:#7c3aed; /* 品牌主色 */
      --text:#1f2937;
      --muted:#6b7280;
      --bg:#ffffff;
      --nav-h:72px;
    }
    * { box-sizing:border-box; }
    body { margin:0; font-family:ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", Arial, sans-serif; color:var(--text); background:var(--bg); }

    /* 固定導覽 */
    .nav {
      position:fixed; top:0; left:0; right:0; height:var(--nav-h);
      display:flex; align-items:center; justify-content:space-between;
      padding:0 16px; background:rgba(255,255,255,0.9); backdrop-filter:saturate(180%) blur(12px);
      border-bottom:1px solid #eee; z-index:50;
    }
    .nav .logo { font-weight:700; letter-spacing:0.5px; }
    .nav a { margin:0 10px; color:var(--text); text-decoration:none; }
    .btn {
      background:var(--brand); color:#fff; border:none; padding:10px 16px; border-radius:8px; cursor:pointer;
      transition:transform .05s ease, opacity .2s ease;
    }
    .btn:hover { opacity:.9; }
    .btn:active { transform:scale(.98); }

    /* Hero 全幅 + 視差 */
    .hero {
      position:relative; height:calc(100vh - var(--nav-h)); margin-top:var(--nav-h);
      display:flex; align-items:center; justify-content:center; text-align:center; color:#fff; overflow:hidden;
    }
    .hero::before {
      content:""; position:absolute; inset:0;
      background:url('https://images.unsplash.com/photo-1517836357463-d25dfeac3438?q=80&w=2000&auto=format&fit=crop') center/cover no-repeat fixed; /* 視差感 */
      transform:scale(1.05);
    }
    .hero::after {
      content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.45));
    }
    .hero .inner { position:relative; z-index:1; max-width:900px; padding:0 16px; }
    .hero h1 { font-size:48px; margin:0 0 12px; }
    .hero p { font-size:18px; margin:0 0 24px; color:#e5e7eb; }

    /* 內容區塊 */
    .section { padding:64px 16px; max-width:1100px; margin:0 auto; }
    .section h2 { font-size:28px; margin:0 0 16px; }
    .muted { color:var(--muted); }

    /* 服務卡片 */
    .cards { display:grid; grid-template-columns:repeat(3, 1fr); gap:16px; }
    @media (max-width:900px){ .cards{ grid-template-columns:repeat(2, 1fr);} }
    @media (max-width:640px){ .cards{ grid-template-columns:1fr;} }
    .card {
      border:1px solid #eee; border-radius:12px; overflow:hidden; background:#fff;
      display:flex; flex-direction:column;
    }
    .card img { width:100%; height:180px; object-fit:cover; }
    .card .body { padding:16px; flex:1; display:flex; flex-direction:column; gap:8px; }
    .price { font-weight:700; color:var(--brand); }
    .card .actions { margin-top:auto; display:flex; gap:8px; }

    /* 前後對比滑桿 */
    .ba-wrap { position:relative; width:100%; height:420px; border-radius:12px; overflow:hidden; border:1px solid #eee; }
    .ba-wrap img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }
    .ba-after { clip-path:inset(0 0 0 50%); transition:clip-path .15s ease; }
    .ba-handle {
      position:absolute; top:0; left:50%; transform:translateX(-50%);
      width:4px; height:100%; background:#fff; box-shadow:0 0 0 1px rgba(0,0,0,.2);
    }
    .ba-handle::before, .ba-handle::after {
      content:""; position:absolute; top:50%; transform:translateY(-50%);
      border:10px solid transparent;
    }
    .ba-handle::before { right:8px; border-right-color:#fff; }
    .ba-handle::after { left:8px; border-left-color:#fff; }

    /* 預約浮層（覆蓋層 + 容器） */
    .overlay { position:fixed; inset:0; background:rgba(0,0,0,.5); display:none; align-items:center; justify-content:center; z-index:100; }
    .overlay.show { display:flex; }
    .sheet {
      width:min(920px, 92vw); height:min(80vh, 820px); background:#fff; border-radius:16px; overflow:hidden; display:flex; flex-direction:column;
      box-shadow:0 20px 60px rgba(0,0,0,.25);
    }
    .sheet-header { padding:12px 16px; border-bottom:1px solid #eee; display:flex; align-items:center; justify-content:space-between; }
    .sheet-body { flex:1; position:relative; }
    .sheet-body iframe, .sheet-body .mm-mount { position:absolute; inset:0; width:100%; height:100%; border:0; }

    /* IG 區塊占位 */
    .ig-grid { display:grid; grid-template-columns:repeat(6, 1fr); gap:8px; }
    @media (max-width:900px){ .ig-grid{ grid-template-columns:repeat(4, 1fr);} }
    @media (max-width:640px){ .ig-grid{ grid-template-columns:repeat(3, 1fr);} }
    .ig-grid div { aspect-ratio:1/1; background:#f3f4f6; border-radius:8px; overflow:hidden; }
    .ig-grid img { width:100%; height:100%; object-fit:cover; display:block; }
  </style>
</head>
<body>
  <!-- 導覽 -->
  <nav class="nav">
    <div class="logo">Salon.</div>
    <div>
      <a href="#services">服務</a>
      <a href="#works">作品集</a>
      <a href="#contact">聯絡</a>
    </div>
    <button class="btn" id="btnBook">立即預約</button>
  </nav>

  <!-- Hero -->
  <header class="hero">
    <div class="inner">
      <h1>專屬你的髮型設計</h1>
      <p>精準剪裁、質感染護與造型，兩步完成線上預約，現場零等待。</p>
      <button class="btn" id="btnBookHero">立即預約</button>
    </div>
  </header>

  <!-- 服務與定價 -->
  <section id="services" class="section">
    <h2>服務與起價</h2>
    <p class="muted">首頁以模組化卡片列出分類與起價，詳情頁提供流程、時長與加價項目。</p>
    <div class="cards">
      <article class="card">
        <img src="https://images.unsplash.com/photo-1516979187457-637abb4f9353?q=80&w=1200&auto=format&fit=crop" alt="剪髮">
        <div class="body">
          <h3>設計剪髮</h3>
          <div class="price">NT$ 900 起</div>
          <p class="muted">含造型諮詢與洗髮，45–60 分鐘。</p>
          <div class="actions">
            <a class="btn" href="#detail-cut">看詳情</a>
            <button class="btn" data-service="cut">預約</button>
          </div>
        </div>
      </article>
      <article class="card">
        <img src="https://images.unsplash.com/photo-1465406325907-b04a4274fb39?q=80&w=1200&auto=format&fit=crop" alt="染髮">
        <div class="body">
          <h3>質感染髮</h3>
          <div class="price">NT$ 2,200 起</div>
          <p class="muted">單色/挑染可選，含基礎護理，120–150 分鐘。</p>
          <div class="actions">
            <a class="btn" href="#detail-color">看詳情</a>
            <button class="btn" data-service="color">預約</button>
          </div>
        </div>
      </article>
      <article class="card">
        <img src="https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1200&auto=format&fit=crop" alt="護髮">
        <div class="body">
          <h3>深層護髮</h3>
          <div class="price">NT$ 1,500 起</div>
          <p class="muted">針對毛躁受損，60–90 分鐘。</p>
          <div class="actions">
            <a class="btn" href="#detail-treatment">看詳情</a>
            <button class="btn" data-service="treatment">預約</button>
          </div>
        </div>
      </article>
    </div>
  </section>

  <!-- 作品集：前後對比滑桿 -->
  <section id="works" class="section">
    <h2>作品集：前後對比</h2>
    <p class="muted">拖曳中線查看變化，可替換為實際案例圖。</p>
    <div class="ba-wrap" id="ba">
      <img class="ba-before" src="https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?q=80&w=2000&auto=format&fit=crop" alt="before">
      <img class="ba-after"  src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=2000&auto=format&fit=crop" alt="after">
      <div class="ba-handle" id="ba-handle"></div>
    </div>
  </section>

  <!-- IG 區塊占位（可替換為 Instagram Embed 或 API） -->
  <section class="section">
    <h2>Instagram 精選</h2>
    <p class="muted">嵌入你的 IG 貼文或使用第三方小工具建立動態牆。</p>
    <div class="ig-grid">
      <div><img src="https://images.unsplash.com/photo-1512496015851-a90fb38ba796?q=80&w=800&auto=format&fit=crop" alt=""></div>
      <div><img src="https://images.unsplash.com/photo-1515704862293-6f87b0b1cfe8?q=80&w=800&auto=format&fit=crop" alt=""></div>
      <div><img src="https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?q=80&w=800&auto=format&fit=crop" alt=""></div>
      <div><img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=800&auto=format&fit=crop" alt=""></div>
      <div><img src="https://images.unsplash.com/photo-1516979187457-637abb4f9353?q=80&w=800&auto=format&fit=crop" alt=""></div>
      <div><img src="https://images.unsplash.com/photo-1465406325907-b04a4274fb39?q=80&w=800&auto=format&fit=crop" alt=""></div>
    </div>
  </section>

  <!-- 聯絡/地址占位 -->
  <section id="contact" class="section">
    <h2>聯絡我們</h2>
    <p class="muted">台北市信義區某某路 100 號 2F｜(02) 1234-5678｜每日 11:00–20:00</p>
  </section>

  <!-- 預約浮層（Mangomint 掛載點） -->
  <div class="overlay" id="overlay">
    <div class="sheet">
      <div class="sheet-header">
        <strong>線上預約</strong>
        <button class="btn" id="btnClose">關閉</button>
      </div>
      <div class="sheet-body">
        <!-- 方式 A：官方嵌入掛載 div，替換為實際 data- 或 targetId -->
        <div class="mm-mount" id="mm-widget"></div>

        <!-- 方式 B：若品牌用外部預約頁，也可先用 iframe 當占位 -->
        <!-- <iframe src="你的預約頁URL"></iframe> -->
      </div>
    </div>
  </div>

  <script>
    // 開關預約浮層
    const openOverlay = () => document.getElementById('overlay').classList.add('show');
    const closeOverlay = () => document.getElementById('overlay').classList.remove('show');
    document.getElementById('btnBook').addEventListener('click', openOverlay);
    document.getElementById('btnBookHero').addEventListener('click', openOverlay);
    document.getElementById('btnClose').addEventListener('click', closeOverlay);
    document.querySelectorAll('button[data-service]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        // 可在此傳遞預設服務到預約掛件（如 data-service="cut"）
        openOverlay();
        // 若使用 Mangomint，可在初始化時帶入服務ID（見下方註解）
      });
    });

    // 前後對比滑桿交互（無依賴，觸控支援）
    (function(){
      const wrap = document.getElementById('ba');
      const after = wrap.querySelector('.ba-after');
      const handle = document.getElementById('ba-handle');
      let dragging = false;
      const setX = x => {
        const rect = wrap.getBoundingClientRect();
        const pct = Math.max(0, Math.min(1, (x - rect.left) / rect.width));
        after.style.clipPath = `inset(0 0 0 ${pct*100}%)`;
        handle.style.left = `${pct*100}%`;
      };
      const onDown = e => { dragging = true; setX(e.touches? e.touches[0].clientX : e.clientX); };
      const onMove = e => { if(!dragging) return; setX(e.touches? e.touches[0].clientX : e.clientX); };
      const onUp = () => dragging = false;
      handle.addEventListener('mousedown', onDown);
      wrap.addEventListener('mousedown', onDown);
      window.addEventListener('mousemove', onMove);
      window.addEventListener('mouseup', onUp);
      handle.addEventListener('touchstart', onDown, {passive:true});
      wrap.addEventListener('touchstart', onDown, {passive:true});
      window.addEventListener('touchmove', onMove, {passive:false});
      window.addEventListener('touchend', onUp);
    })();

    // Mangomint 嵌入（請用你的帳戶設定替換）
    // 參考：在 Mangomint 後台 Settings > Online Booking > Setup & Integration 複製 script 與初始化掛載目標
    // 文件示例指出會提供一段 <script> 與初始化 targetDivId/uuid 的程式碼，將 target 指向上方 #mm-widget 即可。
    // window.MangomintBooking.init({
    //   targetDivId: 'mm-widget',
    //   uuid: '你的UUID',
    //   theme: { brandColor: '#7c3aed' },
    //   service: '可選：特定服務ID'
    // });
  </script>

  <!-- 實務嵌入指南參考來源（開發時請依官方後台產生的 script） -->
  <!-- Mangomint 教學：設定與嵌入（請依帳戶貼上實際 script） -->
  <!-- 來源說明：教學指向 Settings > Online Booking > Setup & Integration 取得 script/target 設定 [web:21] -->
</body>
</html>
